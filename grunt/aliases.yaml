# Gruntfile GonAl project
# 
# Gonzalo Alvarez, 2014
# Work licensed under
# Creative Commons Attributions-NonCommercial-NoDerivaties 4.0 International License
# See: http://creativecommons.org/licenses/by-nc-nd/4.0/
---

dev:
    - 'concat:home'
    - 'compass:home'
    - 'assemble:home'
    - 'copy:styles_home'

default:
    - 'clean'
    - 'copy:fontawesome'
    - 'copy:opensans'
    - 'copy:statics'
    - 'dev' 
    - 'connect:server'
    - 'watch:home'

blogdev:
    - 'compass:blog'
    - 'execute:metalsmith'
    - 'copy:styles_blog'
    - 'rename:blog'

blog:
    - 'clean'
    - 'copy:opensans'
    - 'copy:bitter'
    - 'copy:statics'
    - 'blogdev'
    - 'connect:server'
    - 'watch:blog'

prod:
    - 'clean'
    - 'compass:home'
    - 'compass:blog'
    - 'execute:metalsmith'
    - 'rename:blog'
    - 'copy:fontawesome'
    - 'copy:opensans'
    - 'copy:bitter'
    - 'copy:statics'
    - 'uglify'
    - 'assemble:home'
    - 'sitemap'
    - 'cssmin'
    - 'htmlmin'
    - 'screenshot'
    - 'resize_crop:meta'

deploy:
    - 'prod'
    - 'chk'
    - 'compress'
    - 'aws_s3:clean'
    - 'aws_s3:prod'
    - 'cloudflare'

chk:
    - 'csslint'
    - 'htmlhint'
    - 'cssmetrics'
    - 'jshint'
    - 'jasmine:home'
    - 'casper:home'
    - 'casper:links'

check:
    - 'prod'
    - 'chk'
